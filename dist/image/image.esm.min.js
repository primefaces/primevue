import{ZIndexUtils as e,DomHandler as i}from"primevue/utils";import{openBlock as t,createElementBlock as n,normalizeClass as a,normalizeStyle as s,createElementVNode as o,mergeProps as l,renderSlot as r,createCommentVNode as c,createBlock as p,Teleport as m,createVNode as k,Transition as b,withCtx as v}from"vue";var d={name:"Image",inheritAttrs:!1,props:{preview:{type:Boolean,default:!1},class:null,style:null,imageStyle:null,imageClass:null},mask:null,data:()=>({maskVisible:!1,previewVisible:!1,rotate:0,scale:1}),beforeUnmount(){this.mask&&e.clear(this.container)},methods:{maskRef(e){this.mask=e},toolbarRef(e){this.toolbarRef=e},onImageClick(){this.preview&&(this.maskVisible=!0,setTimeout((()=>{this.previewVisible=!0}),25))},onPreviewImageClick(){this.previewClick=!0},onMaskClick(){this.previewClick||(this.previewVisible=!1,this.rotate=0,this.scale=1),this.previewClick=!1},rotateRight(){this.rotate+=90,this.previewClick=!0},rotateLeft(){this.rotate-=90,this.previewClick=!0},zoomIn(){this.scale=this.scale+.1,this.previewClick=!0},zoomOut(){this.scale=this.scale-.1,this.previewClick=!0},onBeforeEnter(){e.set("modal",this.mask,this.$primevue.config.zIndex.modal)},onEnter(){this.$emit("show")},onBeforeLeave(){i.addClass(this.mask,"p-component-overlay-leave")},onLeave(){this.$emit("hide")},onAfterLeave(i){e.clear(i),this.maskVisible=!1}},computed:{containerClass(){return["p-image p-component",this.class,{"p-image-preview-container":this.preview}]},maskClass:()=>["p-image-mask p-component-overlay p-component-overlay-enter"],rotateClass(){return"p-image-preview-rotate-"+this.rotate},imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}},zoomDisabled(){return this.scale<=.5||this.scale>=1.5}}};const h=o("i",{class:"p-image-preview-icon pi pi-eye"},null,-1),f={class:"p-image-toolbar"},g=[o("i",{class:"pi pi-refresh"},null,-1)],u=[o("i",{class:"pi pi-undo"},null,-1)],w=["disabled"],y=[o("i",{class:"pi pi-search-minus"},null,-1)],C=["disabled"],x=[o("i",{class:"pi pi-search-plus"},null,-1)],z=[o("i",{class:"pi pi-times"},null,-1)],L={key:0},B=["src"];!function(e,i){void 0===i&&(i={});var t=i.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}("\n.p-image-mask {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n}\n.p-image-preview-container {\n    position: relative;\n    display: inline-block;\n}\n.p-image-preview-indicator {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    opacity: 0;\n    -webkit-transition: opacity .3s;\n    transition: opacity .3s;\n}\n.p-image-preview-icon {\n    font-size: 1.5rem;\n}\n.p-image-preview-container:hover > .p-image-preview-indicator {\n    opacity: 1;\n    cursor: pointer;\n}\n.p-image-preview-container > img {\n    cursor: pointer;\n}\n.p-image-toolbar {\n    position: absolute;\n    top: 0;\n    right: 0;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n.p-image-action.p-link {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.p-image-preview {\n    -webkit-transition: -webkit-transform .15s;\n    transition: -webkit-transform .15s;\n    transition: transform .15s;\n    transition: transform .15s, -webkit-transform .15s;\n    max-width: 100vw;\n    max-height: 100vh;\n}\n.p-image-preview-enter-active {\n    -webkit-transition: all 150ms cubic-bezier(0, 0, 0.2, 1);\n    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);\n}\n.p-image-preview-leave-active {\n    -webkit-transition: all 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    transition: all 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n}\n.p-image-preview-enter-from,\n.p-image-preview-leave-to {\n    opacity: 0;\n    -webkit-transform: scale(0.7);\n            transform: scale(0.7);\n}\n"),d.render=function(e,i,d,I,E,V){return t(),n("span",{class:a(V.containerClass),style:s(d.style)},[o("img",l(e.$attrs,{style:d.imageStyle,class:d.imageClass}),null,16),d.preview?(t(),n("div",{key:0,class:"p-image-preview-indicator",onClick:i[0]||(i[0]=(...e)=>V.onImageClick&&V.onImageClick(...e))},[r(e.$slots,"indicator",{},(()=>[h]))])):c("",!0),(t(),p(m,{to:"body"},[E.maskVisible?(t(),n("div",{key:0,ref:V.maskRef,class:a(V.maskClass),onClick:i[7]||(i[7]=(...e)=>V.onMaskClick&&V.onMaskClick(...e))},[o("div",f,[o("button",{class:"p-image-action p-link",onClick:i[1]||(i[1]=(...e)=>V.rotateRight&&V.rotateRight(...e)),type:"button"},g),o("button",{class:"p-image-action p-link",onClick:i[2]||(i[2]=(...e)=>V.rotateLeft&&V.rotateLeft(...e)),type:"button"},u),o("button",{class:"p-image-action p-link",onClick:i[3]||(i[3]=(...e)=>V.zoomOut&&V.zoomOut(...e)),type:"button",disabled:V.zoomDisabled},y,8,w),o("button",{class:"p-image-action p-link",onClick:i[4]||(i[4]=(...e)=>V.zoomIn&&V.zoomIn(...e)),type:"button",disabled:V.zoomDisabled},x,8,C),o("button",{class:"p-image-action p-link",type:"button",onClick:i[5]||(i[5]=(...i)=>e.hidePreview&&e.hidePreview(...i))},z)]),k(b,{name:"p-image-preview",onBeforeEnter:V.onBeforeEnter,onEnter:V.onEnter,onLeave:V.onLeave,onBeforeLeave:V.onBeforeLeave,onAfterLeave:V.onAfterLeave},{default:v((()=>[E.previewVisible?(t(),n("div",L,[o("img",{src:e.$attrs.src,class:"p-image-preview",style:s(V.imagePreviewStyle),onClick:i[6]||(i[6]=(...e)=>V.onPreviewImageClick&&V.onPreviewImageClick(...e))},null,12,B)])):c("",!0)])),_:1},8,["onBeforeEnter","onEnter","onLeave","onBeforeLeave","onAfterLeave"])],2)):c("",!0)]))],6)};export{d as default};
